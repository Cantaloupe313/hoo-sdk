<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        //创建虚拟dom类
        function h(tagName, { props = {}, children = [] } = {}) {
            let vEl = Object.create(null)
            Object.assign(vEl, {
                tagName,
                props,
                children
            })
            return vEl
        }

        // 渲染dom类

        function render(vNode) {
            if (typeof vNode === 'string') return document.createTextNode(vNode)

            const { tagName, props, children } = vNode || {}
            //  创建标签
            let $el = document.createElement(tagName)
            //将所有属性添加dom
            for (const [key, value] of Object.entries(props)) {
                $el.setAttribute(key, value)
            }
            //创建子节点
            children.forEach(child => {
                $el.appendChild(render(child))
            });
            return $el
        }


        const vApp = h('body', {
            props: {
                id: 'app',
                class: 'app'
            },
            children: [
                h('div', {
                    props: {
                        id: 'child'
                    },
                    children: ['Hello world']
                })
            ]
        })



        const $app = render(vApp)

        console.log($app)

    </script>
</body>

</html>